OBJECT Page 5636 FA Reclass. Journal
{
  OBJECT-PROPERTIES
  {
    Date=05/11/08;
    Time=12:00:00;
    Version List=NAVW16.00;
  }
  PROPERTIES
  {
    CaptionML=[ENU=FA Reclass. Journal;
               ESP=A/F Diario reclasif.];
    SaveValues=Yes;
    SourceTable=Table5624;
    DelayedInsert=Yes;
    DataCaptionFields=Journal Batch Name;
    PageType=Worksheet;
    AutoSplitKey=Yes;
    OnOpenPage=VAR
                 JnlSelected@1000 : Boolean;
               BEGIN
                 OpenedFromBatch := ("Journal Batch Name" <> '') AND ("Journal Template Name" = '');
                 IF OpenedFromBatch THEN BEGIN
                   CurrentJnlBatchName := "Journal Batch Name";
                   FAReclassJnlManagement.OpenJournal(CurrentJnlBatchName,Rec);
                   EXIT;
                 END;
                 FAReclassJnlManagement.TemplateSelection(FORM::"FA Reclass. Journal",Rec,JnlSelected);
                 IF NOT JnlSelected THEN
                   ERROR('');

                 FAReclassJnlManagement.OpenJournal(CurrentJnlBatchName,Rec);
               END;

    OnAfterGetRecord=BEGIN
                       OnAfterGetCurrRecord;
                     END;

    OnNewRecord=BEGIN
                  SetUpNewLine(xRec);
                  OnAfterGetCurrRecord;
                END;

    ActionList=ACTIONS
    {
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 30      ;1   ;Action    ;
                      CaptionML=[ENU=Recl&assify;
                                 ESP=&Reclasificar];
                      Promoted=Yes;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"FA Reclass. Jnl.-Transfer",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(FALSE);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 10  ;1   ;Field     ;
                Lookup=Yes;
                CaptionML=[ENU=Batch Name;
                           ESP=Nombre secci¢n];
                SourceExpr=CurrentJnlBatchName;
                OnValidate=BEGIN
                             FAReclassJnlManagement.CheckName(CurrentJnlBatchName,Rec);
                               CurrentJnlBatchNameOnAfterVali;
                           END;

                OnLookup=BEGIN
                           CurrPage.SAVERECORD;
                           FAReclassJnlManagement.LookupName(CurrentJnlBatchName,Rec);
                           CurrPage.UPDATE(FALSE);
                         END;
                          }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 31  ;2   ;Field     ;
                SourceExpr="Posting Date";
                Visible=FALSE }

    { 8   ;2   ;Field     ;
                SourceExpr="FA Posting Date" }

    { 43  ;2   ;Field     ;
                SourceExpr="Document No." }

    { 4   ;2   ;Field     ;
                SourceExpr="FA No.";
                OnValidate=BEGIN
                             FAReclassJnlManagement.GetFAS(Rec,FADescription,NewFADescription);
                           END;
                            }

    { 6   ;2   ;Field     ;
                SourceExpr="New FA No.";
                OnValidate=BEGIN
                             FAReclassJnlManagement.GetFAS(Rec,FADescription,NewFADescription);
                           END;
                            }

    { 12  ;2   ;Field     ;
                SourceExpr="Depreciation Book Code" }

    { 41  ;2   ;Field     ;
                SourceExpr=Description }

    { 14  ;2   ;Field     ;
                SourceExpr="Reclassify Acq. Cost Amount";
                Visible=FALSE }

    { 16  ;2   ;Field     ;
                SourceExpr="Reclassify Acq. Cost %" }

    { 18  ;2   ;Field     ;
                SourceExpr="Reclassify Acquisition Cost" }

    { 20  ;2   ;Field     ;
                SourceExpr="Reclassify Depreciation" }

    { 22  ;2   ;Field     ;
                SourceExpr="Reclassify Write-Down";
                Visible=FALSE }

    { 24  ;2   ;Field     ;
                SourceExpr="Reclassify Appreciation";
                Visible=FALSE }

    { 26  ;2   ;Field     ;
                SourceExpr="Reclassify Custom 1";
                Visible=FALSE }

    { 2   ;2   ;Field     ;
                SourceExpr="Reclassify Custom 2";
                Visible=FALSE }

    { 28  ;2   ;Field     ;
                SourceExpr="Reclassify Salvage Value";
                Visible=FALSE }

    { 39  ;2   ;Field     ;
                SourceExpr="Insert Bal. Account" }

    { 45  ;2   ;Field     ;
                SourceExpr="Calc. DB1 Depr. Amount";
                Visible=FALSE }

    { 33  ;1   ;Group      }

    { 1902115301;2;Group  ;
                GroupType=FixedLayout }

    { 1901652501;3;Group  ;
                CaptionML=[ENU=FA Description;
                           ESP=A/F Descripci¢n] }

    { 35  ;4   ;Field     ;
                SourceExpr=FADescription;
                Editable=FALSE }

    { 1901991701;3;Group  ;
                CaptionML=[ENU=New FA Description;
                           ESP=A/F Descripci¢n nueva] }

    { 36  ;4   ;Field     ;
                CaptionML=[ENU=New FA Description;
                           ESP=A/F Descripci¢n nueva];
                SourceExpr=NewFADescription;
                Editable=FALSE }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      FAReclassJnlManagement@1000 : Codeunit 5646;
      CurrentJnlBatchName@1001 : Code[10];
      FADescription@1002 : Text[30];
      NewFADescription@1003 : Text[30];
      OpenedFromBatch@1004 : Boolean;

    LOCAL PROCEDURE CurrentJnlBatchNameOnAfterVali@19002411();
    BEGIN
      CurrPage.SAVERECORD;
      FAReclassJnlManagement.SetName(CurrentJnlBatchName,Rec);
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE OnAfterGetCurrRecord@19077479();
    BEGIN
      xRec := Rec;
      FAReclassJnlManagement.GetFAS(Rec,FADescription,NewFADescription);
    END;

    BEGIN
    END.
  }
}
