OBJECT Table 98 General Ledger Setup
{
  OBJECT-PROPERTIES
  {
    Date=18/11/14;
    Time=12:57:18;
    Modified=Yes;
    Version List=AIC2009,NAVW16.00,NAVES4.00,PS58334;
  }
  PROPERTIES
  {
    CaptionML=[ENU=General Ledger Setup;
               ESP=Configuraci¢n contabilidad];
  }
  FIELDS
  {
    { 1   ;   ;Primary Key         ;Code10        ;CaptionML=[ENU=Primary Key;
                                                              ESP=Clave primaria] }
    { 2   ;   ;Allow Posting From  ;Date          ;CaptionML=[ENU=Allow Posting From;
                                                              ESP=Permitir registro desde] }
    { 3   ;   ;Allow Posting To    ;Date          ;CaptionML=[ENU=Allow Posting To;
                                                              ESP=Permitir registro hasta] }
    { 4   ;   ;Register Time       ;Boolean       ;CaptionML=[ENU=Register Time;
                                                              ESP=Registrar tiempo conexi¢n] }
    { 28  ;   ;Pmt. Disc. Excl. VAT;Boolean       ;OnValidate=BEGIN
                                                                IF "Pmt. Disc. Excl. VAT" THEN
                                                                  TESTFIELD("Adjust for Payment Disc.",FALSE)
                                                                ELSE
                                                                  TESTFIELD("VAT Tolerance %",0);
                                                              END;

                                                   CaptionML=[ENU=Pmt. Disc. Excl. VAT;
                                                              ESP=Dto. P.P. excl. IVA] }
    { 41  ;   ;Date Filter         ;Date          ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Date Filter;
                                                              ESP=Filtro fecha] }
    { 42  ;   ;Global Dimension 1 Filter;Code20   ;FieldClass=FlowFilter;
                                                   TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Global Dimension 1 Code));
                                                   CaptionML=[ENU=Global Dimension 1 Filter;
                                                              ESP=Filtro dimensi¢n global 1];
                                                   CaptionClass='1,3,1' }
    { 43  ;   ;Global Dimension 2 Filter;Code20   ;FieldClass=FlowFilter;
                                                   TableRelation="Dimension Value".Code WHERE (Dimension Code=FIELD(Global Dimension 2 Code));
                                                   CaptionML=[ENU=Global Dimension 2 Filter;
                                                              ESP=Filtro dimensi¢n global  2];
                                                   CaptionClass='1,3,2' }
    { 44  ;   ;Cust. Balances Due  ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Detailed Cust. Ledg. Entry"."Amount (LCY)" WHERE (Initial Entry Global Dim. 1=FIELD(Global Dimension 1 Filter),
                                                                                                                      Initial Entry Global Dim. 2=FIELD(Global Dimension 2 Filter),
                                                                                                                      Initial Entry Due Date=FIELD(Date Filter),
                                                                                                                      Excluded from calculation=CONST(No)));
                                                   CaptionML=[ENU=Cust. Balances Due;
                                                              ESP=Saldo pdte. clientes];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 45  ;   ;Vendor Balances Due ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=-Sum("Detailed Vendor Ledg. Entry"."Amount (LCY)" WHERE (Initial Entry Global Dim. 1=FIELD(Global Dimension 1 Filter),
                                                                                                                        Initial Entry Global Dim. 2=FIELD(Global Dimension 2 Filter),
                                                                                                                        Initial Entry Due Date=FIELD(Date Filter),
                                                                                                                        Excluded from calculation=CONST(No)));
                                                   CaptionML=[ENU=Vendor Balances Due;
                                                              ESP=Saldo pdte. proveedores];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 48  ;   ;Unrealized VAT      ;Boolean       ;OnValidate=BEGIN
                                                                IF NOT "Unrealized VAT" THEN BEGIN
                                                                  VATPostingSetup.SETFILTER(
                                                                    "Unrealized VAT Type",'>=%1',VATPostingSetup."Unrealized VAT Type"::Percentage);
                                                                  IF VATPostingSetup.FIND('-') THEN
                                                                    ERROR(
                                                                      Text000,VATPostingSetup.TABLECAPTION,
                                                                      VATPostingSetup."VAT Bus. Posting Group",VATPostingSetup."VAT Prod. Posting Group",
                                                                      VATPostingSetup.FIELDCAPTION("Unrealized VAT Type"),VATPostingSetup."Unrealized VAT Type");
                                                                  TaxJurisdiction.SETFILTER(
                                                                    "Unrealized VAT Type",'>=%1',TaxJurisdiction."Unrealized VAT Type"::Percentage);
                                                                  IF TaxJurisdiction.FIND('-') THEN
                                                                    ERROR(
                                                                      Text001,TaxJurisdiction.TABLECAPTION,
                                                                      TaxJurisdiction.Code,TaxJurisdiction.FIELDCAPTION("Unrealized VAT Type"),
                                                                      TaxJurisdiction."Unrealized VAT Type");
                                                                END;
                                                                IF "Unrealized VAT" THEN
                                                                  "Prepayment Unrealized VAT" := TRUE
                                                                ELSE
                                                                  "Prepayment Unrealized VAT" := FALSE;
                                                              END;

                                                   CaptionML=[ENU=Unrealized VAT;
                                                              ESP=IVA no realizado] }
    { 49  ;   ;Adjust for Payment Disc.;Boolean   ;OnValidate=BEGIN
                                                                IF "Adjust for Payment Disc." THEN BEGIN
                                                                  TESTFIELD("Pmt. Disc. Excl. VAT",FALSE);
                                                                  TESTFIELD("VAT Tolerance %",0);
                                                                END ELSE BEGIN
                                                                  VATPostingSetup.SETRANGE("Adjust for Payment Discount",TRUE);
                                                                  IF VATPostingSetup.FIND('-') THEN
                                                                    ERROR(
                                                                      Text002,VATPostingSetup.TABLECAPTION,
                                                                      VATPostingSetup."VAT Bus. Posting Group",VATPostingSetup."VAT Prod. Posting Group",
                                                                      VATPostingSetup.FIELDCAPTION("Adjust for Payment Discount"));
                                                                  TaxJurisdiction.SETRANGE("Adjust for Payment Discount",TRUE);
                                                                  IF TaxJurisdiction.FIND('-') THEN
                                                                    ERROR(
                                                                      Text003,TaxJurisdiction.TABLECAPTION,
                                                                      TaxJurisdiction.Code,TaxJurisdiction.FIELDCAPTION("Adjust for Payment Discount"));
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Adjust for Payment Disc.;
                                                              ESP=Ajuste para dto. P.P.] }
    { 56  ;   ;Mark Cr. Memos as Corrections;Boolean;
                                                   CaptionML=[ENU=Mark Cr. Memos as Corrections;
                                                              ESP=Marcar abono como correcci¢n] }
    { 57  ;   ;Local Address Format;Option        ;CaptionML=[ENU=Local Address Format;
                                                              ESP=Formato direcci¢n est ndar];
                                                   OptionCaptionML=[ENU=Post Code+City,City+Post Code,City+County+Post Code,Blank Line+Post Code+City;
                                                                    ESP=C.P.+Poblaci¢n,Poblaci¢n+C.P.,Poblaci¢n+Provincia+C.P.,L¡nea en blanco+C.P.+Poblaci¢n];
                                                   OptionString=Post Code+City,City+Post Code,City+County+Post Code,Blank Line+Post Code+City }
    { 58  ;   ;Inv. Rounding Precision (LCY);Decimal;
                                                   OnValidate=BEGIN
                                                                IF "Amount Rounding Precision" <> 0 THEN
                                                                  IF "Inv. Rounding Precision (LCY)" <> ROUND("Inv. Rounding Precision (LCY)","Amount Rounding Precision") THEN
                                                                    ERROR(
                                                                      Text004,
                                                                      FIELDCAPTION("Inv. Rounding Precision (LCY)"),"Amount Rounding Precision");
                                                              END;

                                                   CaptionML=[ENU=Inv. Rounding Precision (LCY);
                                                              ESP=Precisi¢n redondeo fact. (DL)];
                                                   AutoFormatType=1 }
    { 59  ;   ;Inv. Rounding Type (LCY);Option    ;CaptionML=[ENU=Inv. Rounding Type (LCY);
                                                              ESP=Tipo redondeo fact. (DL)];
                                                   OptionCaptionML=[ENU=Nearest,Up,Down;
                                                                    ESP=M s cercano,Superior,Inferior];
                                                   OptionString=Nearest,Up,Down }
    { 60  ;   ;Local Cont. Addr. Format;Option    ;InitValue=After Company Name;
                                                   CaptionML=[ENU=Local Cont. Addr. Format;
                                                              ESP=Formato dir. contacto est ndar];
                                                   OptionCaptionML=[ENU=First,After Company Name,Last;
                                                                    ESP=Primero,Despus empresa,éltimo];
                                                   OptionString=First,After Company Name,Last }
    { 63  ;   ;Bank Account Nos.   ;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Bank Account Nos.;
                                                              ESP=N§ serie banco] }
    { 65  ;   ;Summarize G/L Entries;Boolean      ;CaptionML=[ENU=Summarize G/L Entries;
                                                              ESP=Resumir movs. C/G] }
    { 66  ;   ;Amount Decimal Places;Text5        ;InitValue=2:2;
                                                   OnValidate=BEGIN
                                                                CheckDecimalPlacesFormat("Amount Decimal Places");
                                                              END;

                                                   CaptionML=[ENU=Amount Decimal Places;
                                                              ESP=N§ decimales para importes] }
    { 67  ;   ;Unit-Amount Decimal Places;Text5   ;InitValue=2:6;
                                                   OnValidate=BEGIN
                                                                CheckDecimalPlacesFormat("Unit-Amount Decimal Places");
                                                              END;

                                                   CaptionML=[ENU=Unit-Amount Decimal Places;
                                                              ESP=N§ decimales para precio-prod.] }
    { 68  ;   ;Additional Reporting Currency;Code10;
                                                   TableRelation=Currency;
                                                   OnValidate=BEGIN
                                                                IF ("Additional Reporting Currency" <> xRec."Additional Reporting Currency") THEN BEGIN
                                                                  IF "Additional Reporting Currency" = '' THEN
                                                                    OK :=
                                                                      CONFIRM(
                                                                        Text005 +
                                                                        Text006 +
                                                                        Text007,FALSE)
                                                                  ELSE
                                                                    OK :=
                                                                      CONFIRM(
                                                                        Text008 +
                                                                        Text010 +
                                                                        Text011 +
                                                                        Text020 +
                                                                        Text013,FALSE,AnalysisView.TABLECAPTION);
                                                                  IF NOT OK THEN BEGIN
                                                                    "Additional Reporting Currency" := xRec."Additional Reporting Currency";
                                                                    EXIT;
                                                                  END;
                                                                END;
                                                                IF ("Additional Reporting Currency" <> xRec."Additional Reporting Currency") AND
                                                                   ("Additional Reporting Currency" <> '')
                                                                THEN BEGIN
                                                                  AdjAddReportingCurr.SetAddCurr("Additional Reporting Currency");
                                                                  AdjAddReportingCurr.RUNMODAL;
                                                                  IF NOT AdjAddReportingCurr.IsExecuted THEN
                                                                    "Additional Reporting Currency" := xRec."Additional Reporting Currency";
                                                                END;
                                                                IF ("Additional Reporting Currency" <> xRec."Additional Reporting Currency") AND
                                                                   AdjAddReportingCurr.IsExecuted
                                                                THEN
                                                                  DeleteIntrastatJnl;
                                                                IF ("Additional Reporting Currency" <> xRec."Additional Reporting Currency") AND
                                                                   ("Additional Reporting Currency" <> '') AND
                                                                   AdjAddReportingCurr.IsExecuted
                                                                THEN
                                                                  DeleteAnalysisView;
                                                              END;

                                                   CaptionML=[ENU=Additional Reporting Currency;
                                                              ESP=Informaci¢n divisa adicional] }
    { 69  ;   ;VAT Tolerance %     ;Decimal       ;OnValidate=BEGIN
                                                                IF "VAT Tolerance %" <> 0 THEN
                                                                  TESTFIELD("Payment Discount Type","Payment Discount Type"::"Pmt. Disc. Excl. VAT");
                                                              END;

                                                   CaptionML=[ENU=VAT Tolerance %;
                                                              ESP=% tolerancia IVA];
                                                   DecimalPlaces=0:6;
                                                   MinValue=0;
                                                   MaxValue=100 }
    { 70  ;   ;EMU Currency        ;Boolean       ;CaptionML=[ENU=EMU Currency;
                                                              ESP=Divisa UME] }
    { 71  ;   ;LCY Code            ;Code10        ;CaptionML=[ENU=LCY Code;
                                                              ESP=C¢d. divisa local] }
    { 72  ;   ;VAT Exchange Rate Adjustment;Option;CaptionML=[ENU=VAT Exchange Rate Adjustment;
                                                              ESP=Tipo cambio ajuste IVA];
                                                   OptionCaptionML=[ENU=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount;
                                                                    ESP=No ajustar,Ajustar importe,Ajustar importe divisa-adicional];
                                                   OptionString=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount }
    { 73  ;   ;Amount Rounding Precision;Decimal  ;InitValue=0,01;
                                                   OnValidate=BEGIN
                                                                IF "Amount Rounding Precision" <> 0 THEN
                                                                  "Inv. Rounding Precision (LCY)" := ROUND("Inv. Rounding Precision (LCY)","Amount Rounding Precision");
                                                                RoundingErrorCheck(FIELDCAPTION("Amount Rounding Precision"));
                                                                MESSAGE(
                                                                  Text021);
                                                              END;

                                                   CaptionML=[ENU=Amount Rounding Precision;
                                                              ESP=Prec. redondeo importe];
                                                   DecimalPlaces=0:6 }
    { 74  ;   ;Unit-Amount Rounding Precision;Decimal;
                                                   InitValue=0,00001;
                                                   OnValidate=BEGIN
                                                                MESSAGE(
                                                                  Text022);
                                                              END;

                                                   CaptionML=[ENU=Unit-Amount Rounding Precision;
                                                              ESP=Prec. redondeo precio-prod.];
                                                   DecimalPlaces=0:9 }
    { 75  ;   ;Appln. Rounding Precision;Decimal  ;CaptionML=[ENU=Appln. Rounding Precision;
                                                              ESP=Precisi¢n redondeo liquidaci¢n];
                                                   MinValue=0;
                                                   AutoFormatType=1 }
    { 79  ;   ;Global Dimension 1 Code;Code20     ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                "Shortcut Dimension 1 Code" := "Global Dimension 1 Code";
                                                              END;

                                                   CaptionML=[ENU=Global Dimension 1 Code;
                                                              ESP=C¢d. dimensi¢n global 1];
                                                   Editable=No }
    { 80  ;   ;Global Dimension 2 Code;Code20     ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                "Shortcut Dimension 2 Code" := "Global Dimension 2 Code";
                                                              END;

                                                   CaptionML=[ENU=Global Dimension 2 Code;
                                                              ESP=C¢d. dimensi¢n global 2];
                                                   Editable=No }
    { 81  ;   ;Shortcut Dimension 1 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 1 Code;
                                                              ESP=C¢d. dim. acceso dir. 1];
                                                   Editable=No }
    { 82  ;   ;Shortcut Dimension 2 Code;Code20   ;TableRelation=Dimension;
                                                   CaptionML=[ENU=Shortcut Dimension 2 Code;
                                                              ESP=C¢d. dim. acceso dir. 2];
                                                   Editable=No }
    { 83  ;   ;Shortcut Dimension 3 Code;Code20   ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                IF Dim.CheckIfDimUsed("Shortcut Dimension 3 Code",3,'','',0) THEN
                                                                  ERROR(Text023,Dim.GetCheckDimErr);
                                                                MODIFY;
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 3 Code;
                                                              ESP=C¢d. dim. acceso directo 3] }
    { 84  ;   ;Shortcut Dimension 4 Code;Code20   ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                IF Dim.CheckIfDimUsed("Shortcut Dimension 4 Code",4,'','',0) THEN
                                                                  ERROR(Text023,Dim.GetCheckDimErr);
                                                                MODIFY;
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 4 Code;
                                                              ESP=C¢d. dim. acceso directo 4] }
    { 85  ;   ;Shortcut Dimension 5 Code;Code20   ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                IF Dim.CheckIfDimUsed("Shortcut Dimension 5 Code",5,'','',0) THEN
                                                                  ERROR(Text023,Dim.GetCheckDimErr);
                                                                MODIFY;
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 5 Code;
                                                              ESP=C¢d. dim. acceso directo 5] }
    { 86  ;   ;Shortcut Dimension 6 Code;Code20   ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                IF Dim.CheckIfDimUsed("Shortcut Dimension 6 Code",6,'','',0) THEN
                                                                  ERROR(Text023,Dim.GetCheckDimErr);
                                                                MODIFY;
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 6 Code;
                                                              ESP=C¢d. dim. acceso directo 6] }
    { 87  ;   ;Shortcut Dimension 7 Code;Code20   ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                IF Dim.CheckIfDimUsed("Shortcut Dimension 7 Code",7,'','',0) THEN
                                                                  ERROR(Text023,Dim.GetCheckDimErr);
                                                                MODIFY;
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 7 Code;
                                                              ESP=C¢d. dim. acceso directo 7] }
    { 88  ;   ;Shortcut Dimension 8 Code;Code20   ;TableRelation=Dimension;
                                                   OnValidate=BEGIN
                                                                IF Dim.CheckIfDimUsed("Shortcut Dimension 8 Code",8,'','',0) THEN
                                                                  ERROR(Text023,Dim.GetCheckDimErr);
                                                                MODIFY;
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 8 Code;
                                                              ESP=C¢d. dim. acceso directo 8] }
    { 89  ;   ;Max. VAT Difference Allowed;Decimal;OnValidate=BEGIN
                                                                IF "Max. VAT Difference Allowed" <> ROUND("Max. VAT Difference Allowed") THEN
                                                                  ERROR(
                                                                    Text004,
                                                                    FIELDCAPTION("Max. VAT Difference Allowed"),"Amount Rounding Precision");

                                                                "Max. VAT Difference Allowed" := ABS("Max. VAT Difference Allowed");
                                                              END;

                                                   CaptionML=[ENU=Max. VAT Difference Allowed;
                                                              ESP=M x. diferencia IVA permitida];
                                                   AutoFormatType=1 }
    { 90  ;   ;VAT Rounding Type   ;Option        ;CaptionML=[ENU=VAT Rounding Type;
                                                              ESP=Tipo redondeo IVA];
                                                   OptionCaptionML=[ENU=Nearest,Up,Down;
                                                                    ESP=M s cercano,Superior,Inferior];
                                                   OptionString=Nearest,Up,Down }
    { 92  ;   ;Pmt. Disc. Tolerance Posting;Option;CaptionML=[ENU=Pmt. Disc. Tolerance Posting;
                                                              ESP=Registrar tolerancia dto. P.P.];
                                                   OptionCaptionML=[ENU=Payment Tolerance Accounts,Payment Discount Accounts;
                                                                    ESP=Ctas. tolerancia pagos,Ctas. dto. P.P.];
                                                   OptionString=Payment Tolerance Accounts,Payment Discount Accounts }
    { 93  ;   ;Payment Discount Grace Period;DateFormula;
                                                   CaptionML=[ENU=Payment Discount Grace Period;
                                                              ESP=Periodo gracia descuento pagos] }
    { 94  ;   ;Payment Tolerance % ;Decimal       ;CaptionML=[ENU=Payment Tolerance %;
                                                              ESP=% Tolerancia pago];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100;
                                                   Editable=No }
    { 95  ;   ;Max. Payment Tolerance Amount;Decimal;
                                                   CaptionML=[ENU=Max. Payment Tolerance Amount;
                                                              ESP=M x. importe tolerancia pago];
                                                   MinValue=0;
                                                   Editable=No }
    { 96  ;   ;Adapt Main Menu to Permissions;Boolean;
                                                   InitValue=Yes;
                                                   CaptionML=[ENU=Adapt Main Menu to Permissions;
                                                              ESP=Adaptar men£ princ. a permisos] }
    { 97  ;   ;Allow G/L Acc. Deletion Before;Date;CaptionML=[ENU=Allow G/L Acc. Deletion Before;
                                                              ESP=Permite borrar ctas. anteriores a] }
    { 98  ;   ;Check G/L Account Usage;Boolean    ;CaptionML=[ENU=Check G/L Account Usage;
                                                              ESP=Chequear utiliz. ctas. cont.] }
    { 99  ;   ;Payment Tolerance Posting;Option   ;CaptionML=[ENU=Payment Tolerance Posting;
                                                              ESP=Registrar tolerancia pagos];
                                                   OptionCaptionML=[ENU=Payment Tolerance Accounts,Payment Discount Accounts;
                                                                    ESP=Ctas. tolerancia pagos,Ctas. dto. P.P.];
                                                   OptionString=Payment Tolerance Accounts,Payment Discount Accounts }
    { 100 ;   ;Pmt. Disc. Tolerance Warning;Boolean;
                                                   CaptionML=[ENU=Pmt. Disc. Tolerance Warning;
                                                              ESP=Advertencia tolerancia dto. P.P.] }
    { 101 ;   ;Payment Tolerance Warning;Boolean  ;CaptionML=[ENU=Payment Tolerance Warning;
                                                              ESP=Advertencia tolerancia pagos] }
    { 102 ;   ;Last IC Transaction No.;Integer    ;CaptionML=[ENU=Last IC Transaction No.;
                                                              ESP=N§ £ltima transacci¢n IC] }
    { 103 ;   ;Bill-to/Sell-to VAT Calc.;Option   ;CaptionML=[ENU=Bill-to/Sell-to VAT Calc.;
                                                              ESP=Fact./Venta a-C lc. IVA];
                                                   OptionCaptionML=[ENU=Bill-to/Pay-to No.,Sell-to/Buy-from No.;
                                                                    ESP=Fact./Pago a-N§.,Venta/Compra a-N§.];
                                                   OptionString=Bill-to/Pay-to No.,Sell-to/Buy-from No. }
    { 150 ;   ;Print VAT specification in LCY;Boolean;
                                                   CaptionML=[ENU=Print VAT specification in LCY;
                                                              ESP=Imprimir especificaci¢n IVA en DL] }
    { 151 ;   ;Prepayment Unrealized VAT;Boolean  ;OnValidate=BEGIN
                                                                IF "Unrealized VAT" AND xRec."Prepayment Unrealized VAT"  THEN
                                                                  ERROR(Text024,FIELDCAPTION("Prepayment Unrealized VAT"),FIELDCAPTION("Unrealized VAT"));

                                                                IF NOT "Prepayment Unrealized VAT" THEN BEGIN
                                                                  VATPostingSetup.SETFILTER(
                                                                    "Unrealized VAT Type",'>=%1',VATPostingSetup."Unrealized VAT Type"::Percentage);
                                                                  IF VATPostingSetup.FIND('-') THEN
                                                                    ERROR(
                                                                      Text000,VATPostingSetup.TABLECAPTION,
                                                                      VATPostingSetup."VAT Bus. Posting Group",VATPostingSetup."VAT Prod. Posting Group",
                                                                      VATPostingSetup.FIELDCAPTION("Unrealized VAT Type"),VATPostingSetup."Unrealized VAT Type");
                                                                  TaxJurisdiction.SETFILTER(
                                                                    "Unrealized VAT Type",'>=%1',TaxJurisdiction."Unrealized VAT Type"::Percentage);
                                                                  IF TaxJurisdiction.FIND('-') THEN
                                                                    ERROR(
                                                                      Text001,TaxJurisdiction.TABLECAPTION,
                                                                      TaxJurisdiction.Code,TaxJurisdiction.FIELDCAPTION("Unrealized VAT Type"),
                                                                      TaxJurisdiction."Unrealized VAT Type");
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Prepayment Unrealized VAT;
                                                              ESP=IVA no realizado de prepago] }
    { 10701;  ;Payment Discount Type;Option       ;OnValidate=BEGIN
                                                                CASE "Payment Discount Type" OF
                                                                  "Payment Discount Type"::"Full Amount":
                                                                    BEGIN
                                                                      TESTFIELD("Discount Calculation","Discount Calculation"::" ");
                                                                      CheckAdjustForPaymentDisc;
                                                                    END;
                                                                  "Payment Discount Type"::"Pmt. Disc. Excl. VAT":
                                                                    BEGIN
                                                                      TESTFIELD("VAT Tolerance %",0);
                                                                      TESTFIELD("Discount Calculation","Discount Calculation"::" ");
                                                                      CheckAdjustForPaymentDisc;
                                                                    END;
                                                                  "Payment Discount Type"::"Adjust for Payment Disc.":
                                                                    BEGIN
                                                                      TESTFIELD("VAT Tolerance %",0);
                                                                      TESTFIELD("Discount Calculation","Discount Calculation"::" ");
                                                                    END;
                                                                  "Payment Discount Type"::"Calc. Pmt. Disc. on Lines":
                                                                    BEGIN
                                                                      TESTFIELD("VAT Tolerance %",0);
                                                                      CheckAdjustForPaymentDisc;
                                                                    END;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Payment Discount Type;
                                                              ESP=Tipo dto. P.P.];
                                                   OptionCaptionML=[ENU=Full Amount,Pmt. Disc. Excl. VAT,Adjust for Payment Disc.,Calc. Pmt. Disc. on Lines;
                                                                    ESP=Importe completo,Dto. P.P. excluido IVA,Ajustar dto. P.P.,Dto. P.P. en l¡neas];
                                                   OptionString=Full Amount,Pmt. Disc. Excl. VAT,Adjust for Payment Disc.,Calc. Pmt. Disc. on Lines }
    { 10702;  ;Discount Calculation;Option        ;OnValidate=BEGIN
                                                                IF "Discount Calculation" <> "Discount Calculation"::" " THEN
                                                                  TESTFIELD("Payment Discount Type","Payment Discount Type"::"Calc. Pmt. Disc. on Lines");
                                                              END;

                                                   CaptionML=[ENU=Discount Calculation;
                                                              ESP=C lculo descuento];
                                                   OptionCaptionML=[ENU=" ,Line Disc. + Inv. Disc. + Payment Disc.,Line Disc. + Inv. Disc. * Payment Disc.,Line Disc. * Inv. Disc. + Payment Disc.,Line Disc. * Inv. Disc. * Payment Disc.";
                                                                    ESP=" ,Dto. l¡nea + Dto. factura + Dto. P.P.,Dto. l¡nea + Dto. factura * Dto. P.P.,Dto. l¡nea * Dto. factura + Dto. P.P.,Dto. l¡nea * Dto. factura * Dto. P.P."];
                                                   OptionString=[ ,Line Disc. + Inv. Disc. + Payment Disc.,Line Disc. + Inv. Disc. * Payment Disc.,Line Disc. * Inv. Disc. + Payment Disc.,Line Disc. * Inv. Disc. * Payment Disc.] }
    { 10703;  ;Autoinvoice Nos.    ;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Autoinvoice Nos.;
                                                              ESP=N§ serie autofactura] }
    { 10704;  ;Autocredit Memo Nos.;Code10        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Autocredit Memo Nos.;
                                                              ESP=N§ serie autoabono] }
    { 50004;  ;SAT Certificate Thumbprint;Text250 ;CaptionML=[ENU=SAT Certificate Thumbprint;
                                                              ESM=Huella digital del certificado SAT] }
    { 50005;  ;Send PDF Report     ;Boolean       ;CaptionML=[ENU=Send PDF Report;
                                                              ESP=Send PDF Report;
                                                              ESM=Enviar informe PDF] }
    { 50006;  ;Hash Algorithm      ;Option        ;CaptionML=[ENU=Hash Algorithm;
                                                              ESP=Hash Algorithm;
                                                              ESM=Algoritmo digesti¢n];
                                                   OptionCaptionML=[ENU=MD-5,SHA-1;
                                                                    ESM=MD-5,SHA-1];
                                                   OptionString=MD-5,SHA-1 }
    { 50007;  ;% Aplicable ITEU    ;Decimal       ;CaptionML=[ENU=% Applicable IETU;
                                                              ESP=% Aplicable IETU] }
    { 50008;  ;Tipo e-factura Mexico;Option       ;CaptionML=ESP=Tipo e-factura Mexico;
                                                   OptionCaptionML=ESP=CFDI,CFD;
                                                   OptionString=CFDI,CFD }
    { 50009;  ;PAC Code            ;Code10        ;TableRelation="PAC Web Service".Code;
                                                   OnValidate=BEGIN
                                                                IF "PAC Code" = '' THEN
                                                                  "PAC Environment" := "PAC Environment"::Disabled;
                                                              END;

                                                   CaptionML=[ENU=PAC Code;
                                                              ESP=C¢digo PAC] }
    { 50010;  ;PAC Environment     ;Option        ;CaptionML=[ENU=PAC Environment;
                                                              ESP=Entorno PAC];
                                                   OptionCaptionML=[ENU=Disabled,Test,Production;
                                                                    ESP=Deshabilitado,Prueba,Producci¢n];
                                                   OptionString=Disabled,Test,Production }
    { 50011;  ;Sim. Signature      ;Boolean       ;CaptionML=[ENU=Sim. Signature;
                                                              ESP=Firma sim.] }
    { 50012;  ;Sim. Send           ;Boolean       ;CaptionML=[ENU=Sim. Send;
                                                              ESP=Env¡o sim.] }
    { 50013;  ;Sim. Request Stamp  ;Boolean       ;CaptionML=[ENU=Sim. Request Stamp;
                                                              ESP=Sello de solicitud sim.] }
    { 7009760;;Permite liquidacion desde;Date     ;CaptionML=[ENU=Allow liquidation from;
                                                              ESP=Permite liquidacion desde];
                                                   Description=$001 }
    { 7009761;;Permite liquidacion hasta;Date     ;CaptionML=[ENU=Allow liquidation To;
                                                              ESP=Permite liquidacion hasta];
                                                   Description=$001 }
    { 7009762;;Cuenta ITBIS soportado;Text20      ;TableRelation="G/L Account".No. WHERE (Account Type=CONST(Posting));
                                                   CaptionML=ESP=Cuenta ITBIS soportado;
                                                   Description=$001 "G/L Account".No. WHERE (Account Type=CONST(Posting)) }
    { 7009763;;Cuenta ITBIS repercutido;Text20    ;TableRelation="G/L Account".No. WHERE (Account Type=CONST(Posting));
                                                   CaptionML=ESP=Cuenta ITBIS repercutido;
                                                   Description=$001 "G/L Account".No. WHERE (Account Type=CONST(Posting)) }
    { 7009764;;Presupuesto Informe control;Code10 ;TableRelation="G/L Budget Name".Name;
                                                   CaptionML=ESP=Presupuesto Informe control;
                                                   Description=$001 "G/L Budget Name".Name }
    { 7009765;;Digitos NCF         ;Integer       ;CaptionML=ESP=Digitos NCF;
                                                   Description=$002 Numero de digitos del NCF }
    { 7009766;;Grupo NCF Gastos menores;Code10    ;TableRelation="Grupo configuracion NCF".Codigo WHERE (Tipo grupo=CONST(Compras));
                                                   CaptionML=ESP=Grupo NCF Gastos menores;
                                                   Description=$003 "Grupo configuracion NCF".Codigo WHERE (Tipo grupo=CONST(Compras)) }
    { 7009767;;Ruta fichero declaracion 606;Text250;
                                                   CaptionML=ESP=Ruta fichero declaracion 606;
                                                   Description=$004 }
    { 7009768;;Aplica legislacion NCF;Boolean     ;CaptionML=ESP=Aplica legislacion NCF;
                                                   Description=$005 }
    { 7009769;;Esquema cuentas inf. control;Code10;TableRelation="Acc. Schedule Name";
                                                   CaptionML=ESP=Esquema cuentas inf. control;
                                                   Description=$006,"Acc. Schedule Name" }
    { 7009770;;Plantilla col. esq. cta. inf.;Code10;
                                                   TableRelation="Column Layout Name".Name;
                                                   CaptionML=ESP=Plantilla col. esq. cta. inf.;
                                                   Description=$006,"Column Layout Name".Name }
    { 7009771;;Ruta integracion Mexico;Text250    ;CaptionML=ESP=Ruta integracion Mexico;
                                                   Description=$010 }
  }
  KEYS
  {
    {    ;Primary Key                             ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      Text000@1000 : TextConst 'ENU=%1 %2 %3 have %4 to %5.;ESP=%1 %2 %3 tiene %4 a %5.';
      Text001@1001 : TextConst 'ENU=%1 %2 have %3 to %4.;ESP=%1 %2 tiene %3 a %4.';
      Text002@1002 : TextConst 'ENU=%1 %2 %3 use %4.;ESP=%1 %2 %3 utilice %4.';
      Text003@1003 : TextConst 'ENU=%1 %2 use %3.;ESP=%1 %2 utiliza %3.';
      Text004@1004 : TextConst 'ENU=%1 must be rounded to the nearest %2.;ESP=Se debe redondear %1 al m s cercano %2.';
      Text005@1005 : TextConst 'ENU=If you delete the additional reporting currency, future general ledger entries will be posted in LCY only.;ESP=Si elimina la inf. divisa adicional, los siguientes movs. s¢lo se registrar n en divisa local.';
      Text006@1006 : TextConst 'ENU=Deleting the additional reporting currency will have no effect on already posted general ledger entries.\\;ESP=Si se elimina la inf. en divisa adicional no se alteran los movs. ya registrados.\\';
      Text007@1007 : TextConst 'ENU=Do you want to delete the additional reporting currency?;ESP=¨Confirma que desea eliminar la divisa adicional para informes?';
      Text008@1008 : TextConst 'ENU="If you change the additional reporting currency, future general ledger entries will be posted in the new reporting currency (and in LCY).  ";ESP="Si cambia la informaci¢n en divisa adicional, los movs. contabilidad futuros se registrar n en la nueva divisa de informaci¢n ( y en DL).  "';
      Text010@1010 : TextConst 'ENU="If you change the additional reporting currency, a batch job will appear. ";ESP="Si cambia la informaci¢n en divisa adicional, aparecer  un proceso. "';
      Text011@1011 : TextConst 'ENU=Running this batch job will cause the program to recalculate already posted general ledger entries in the new additional reporting currency.\;ESP=Ejecutar este proceso provocar  que el programa recalcule los movimientos de contabilidad registrados en el nuevo informe divisa adicional.\';
      Text013@1012 : TextConst 'ENU=Do you want to change the additional reporting currency?;ESP=¨Confirma que desea cambiar la divisa adicional?';
      Text016@1013 : TextConst 'ENU="Enter one number or two numbers separated by a colon. ";ESP="Introduzca uno o dos n£meros separados por dos puntos. "';
      Text017@1014 : TextConst 'ENU=The online Help for this field describes how you can fill in the field.;ESP=La ayuda en l¡nea describe c¢mo utilizar este campo.';
      Text018@1015 : TextConst 'ENU=You cannot change the contents of the %1 field because there are posted ledger entries.;ESP=No se puede cambiar el contenido del campo %1 ya que hay movs. registrados.';
      Text020@1017 : TextConst 'ENU=Entries will be deleted in the %1 if it is unblocked. An update will be necessary.\\;ESP=El %1 de movs. se borrar n si est  desbloqueado. Ser  necesario una actualizaci¢n.\\';
      Text021@1018 : TextConst 'ENU=You must close the program and start again in order to activate the amount-rounding feature.;ESP=Debe cerrar el programa y entrar de nuevo para activar la prop. de redondeo-importe.';
      Text022@1019 : TextConst 'ENU=You must close the program and start again in order to activate the unit-amount rounding feature.;ESP=Debe cerrar el programa y entrar de nuevo para activar la prop. de redondeo precio-producto.';
      Text023@1020 : TextConst 'ENU=%1\You cannot use the same dimension twice in the same setup.;ESP=%1\No puede usar la misma dim. dos veces en la misma config.';
      Dim@1021 : Record 348;
      GLEntry@1022 : Record 17;
      ItemLedgerEntry@1023 : Record 32;
      JobLedgEntry@1024 : Record 169;
      ResLedgEntry@1025 : Record 203;
      FALedgerEntry@1026 : Record 5601;
      MaintenanceLedgerEntry@1027 : Record 5625;
      InsCoverageLedgerEntry@1028 : Record 5629;
      VATPostingSetup@1029 : Record 325;
      TaxJurisdiction@1030 : Record 320;
      AdjAddReportingCurr@1031 : Report 86;
      AnalysisView@1032 : Record 363;
      AnalysisViewEntry@1033 : Record 365;
      AnalysisViewBudgetEntry@1034 : Record 366;
      OK@1035 : Boolean;
      ErrorMessage@1036 : Boolean;
      Text024@1009 : TextConst 'ENU=You cannot change the contents of the %1 field because the %2 is activated.;ESP=No puede cambiar el contenido del campo %1 porque el %2 est  activado.';
      Text1100000@1100001 : TextConst 'ENU=%1 %2 %3 use %4.;ESP=%1 %2 %3 utilice %4.';
      Text1100001@1100002 : TextConst 'ENU=%1 %2 use %3.;ESP=%1 %2 utiliza %3.';

    PROCEDURE CheckDecimalPlacesFormat@1(VAR DecimalPlaces@1000 : Text[5]);
    VAR
      OK@1001 : Boolean;
      ColonPlace@1002 : Integer;
      DecimalPlacesPart1@1003 : Integer;
      DecimalPlacesPart2@1004 : Integer;
      Check@1005 : Text[5];
    BEGIN
      OK := TRUE;
      ColonPlace := STRPOS(DecimalPlaces,':');

      IF ColonPlace = 0 THEN BEGIN
        IF NOT EVALUATE(DecimalPlacesPart1,DecimalPlaces) THEN
          OK := FALSE;
        IF (DecimalPlacesPart1 < 0) OR (DecimalPlacesPart1 > 9) THEN
          OK := FALSE;
      END ELSE BEGIN
        Check := COPYSTR(DecimalPlaces,1,ColonPlace - 1);
        IF Check = '' THEN
          OK := FALSE;
        IF NOT EVALUATE(DecimalPlacesPart1,Check) THEN
          OK := FALSE;
        Check := COPYSTR(DecimalPlaces,ColonPlace + 1,STRLEN(DecimalPlaces));
        IF Check = '' THEN
          OK := FALSE;
        IF NOT EVALUATE(DecimalPlacesPart2,Check) THEN
          OK := FALSE;
        IF DecimalPlacesPart1 > DecimalPlacesPart2 THEN
          OK := FALSE;
        IF (DecimalPlacesPart1 < 0) OR (DecimalPlacesPart1 > 9) THEN
          OK := FALSE;
        IF (DecimalPlacesPart2 < 0) OR (DecimalPlacesPart2 > 9) THEN
          OK := FALSE;
      END;

      IF NOT OK THEN
        ERROR(
          Text016 +
          Text017);

      IF ColonPlace = 0 THEN
        DecimalPlaces := FORMAT(DecimalPlacesPart1)
      ELSE
        DecimalPlaces := STRSUBSTNO('%1:%2',DecimalPlacesPart1,DecimalPlacesPart2);
    END;

    PROCEDURE RoundingErrorCheck@2(NameOfField@1000 : Text[100]);
    BEGIN
      ErrorMessage := FALSE;
      IF GLEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF ItemLedgerEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF JobLedgEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF ResLedgEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF FALedgerEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF MaintenanceLedgerEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF InsCoverageLedgerEntry.FIND('-') THEN
        ErrorMessage := TRUE;
      IF ErrorMessage THEN
        ERROR(
          Text018,
          NameOfField);
    END;

    PROCEDURE DeleteIntrastatJnl@3();
    VAR
      IntrastatJnlBatch@1000 : Record 262;
      IntrastatJnlLine@1001 : Record 263;
    BEGIN
      IF NOT IntrastatJnlBatch.READPERMISSION THEN
        EXIT;
      IF NOT IntrastatJnlLine.READPERMISSION THEN
        EXIT;
      IntrastatJnlBatch.SETRANGE(Reported,FALSE);
      IntrastatJnlBatch.SETRANGE("Amounts in Add. Currency",TRUE);
      IF IntrastatJnlBatch.FIND('-') THEN
        REPEAT
          IntrastatJnlLine.SETRANGE("Journal Template Name",IntrastatJnlBatch."Journal Template Name");
          IntrastatJnlLine.SETRANGE("Journal Batch Name",IntrastatJnlBatch.Name);
          IntrastatJnlLine.DELETEALL;
        UNTIL IntrastatJnlBatch.NEXT = 0;
    END;

    PROCEDURE DeleteAnalysisView@33();
    BEGIN
      IF AnalysisView.FIND('-') THEN BEGIN
        REPEAT
          IF AnalysisView.Blocked = FALSE THEN BEGIN
            AnalysisViewEntry.SETRANGE("Analysis View Code",AnalysisView.Code);
            AnalysisViewEntry.DELETEALL;
            AnalysisViewBudgetEntry.SETRANGE("Analysis View Code",AnalysisView.Code);
            AnalysisViewBudgetEntry.DELETEALL;
            AnalysisView."Last Entry No." := 0;
            AnalysisView."Last Budget Entry No." := 0;
            AnalysisView."Last Date Updated" := 0D;
            AnalysisView.MODIFY;
          END ELSE BEGIN
            AnalysisView."Refresh When Unblocked" := TRUE;
            AnalysisView.MODIFY;
          END;
        UNTIL AnalysisView.NEXT = 0;
      END;
    END;

    PROCEDURE IsPostingAllowed@22(PostingDate@1000 : Date) : Boolean;
    BEGIN
      EXIT(PostingDate >= "Allow Posting From");
    END;

    PROCEDURE FirstAllowedPostingDate@78() AllowedPostingDate : Date;
    VAR
      InvtPeriod@1000 : Record 5814;
    BEGIN
      AllowedPostingDate := "Allow Posting From";
      IF NOT InvtPeriod.IsValidDate(AllowedPostingDate) THEN
        AllowedPostingDate := CALCDATE('<+1D>',AllowedPostingDate);
    END;

    PROCEDURE CheckAdjustForPaymentDisc@1100000();
    BEGIN
      VATPostingSetup.SETRANGE("Adjust for Payment Discount",TRUE);
      IF VATPostingSetup.FIND('-') THEN
        ERROR(
          '%1 %2 %3 use %4.',VATPostingSetup.TABLENAME,
          VATPostingSetup."VAT Bus. Posting Group",VATPostingSetup."VAT Prod. Posting Group",
          VATPostingSetup.FIELDNAME("Adjust for Payment Discount"));
      TaxJurisdiction.SETRANGE("Adjust for Payment Discount",TRUE);
      IF TaxJurisdiction.FIND('-') THEN
        ERROR(
          '%1 %2 use %3.',TaxJurisdiction.TABLENAME,
          TaxJurisdiction.Code,TaxJurisdiction.FIELDNAME("Adjust for Payment Discount"));
    END;

    BEGIN
    {
      // INCOMING

      $001 Se han agregado nuevos campos

        7009760 Permite liquidacion desde   Date
        7009761 Permite liquidacion hasta   Date
        7009762 Cuenta ITBIS soportado      Text20, "G/L Account".No. WHERE (Account Type=CONST(Posting))
        7009763 Cuenta ITBIS repercutido    Text20, "G/L Account".No. WHERE (Account Type=CONST(Posting))
        7009764 Presupuesto Informe control Code10, "G/L Budget Name".Name

      $002 AJS 27.12.2006, Funcionalidad de NCF (Comprobantes fiscales)
         Nuevo campo que indica cuantos digitos deber  tener todo numero de comprobante fiscal

        7009765 Digitos NCF Integer, Numero de digitos del NCF

      $003 AJS 06.02.2007, Declaracion ITBIS
         Nuevo campo para indicar cual es el grupo de proveedores de Gastos menores

        7009766 Grupo NCF Gastos menores Code10, "Grupo configuracion NCF".Codigo WHERE (Tipo grupo=CONST(Compra))

      $004 AJS 07.02.2007, Declaracion ITBIS
         Nuevo campo para indicar la ruta de la plantilla de declaracion 606

        7009767 Ruta fichero declaracion 606 Text250

      $005 AJS 06.02.2007, Comprobantes fiscales
         Nuevo campo para indicar a que empresas aplica esta funcionalidad

        7009768 Aplica legislacion NCF Boolean
      $006 AJS 02.02.2012, Informe control contable
         Nuevos campos para incluir los informes de esquemas de cuentas en este proceso

      $007 AJS 05022013 Nuevo campo Facturacion electronica Mexico

      $008 AJS 26082013 Nuevos campos Facturacion electronica Mexico (Parche MS)

      $009 AJS 18102014 Traduccion

      $010 ARM 18112014 CNT-CAR-14090 Nuevo campo Ruta integraci¢n Mexico
    }
    END.
  }
}
