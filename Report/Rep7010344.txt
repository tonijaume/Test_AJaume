OBJECT Report 7010344 Prefactura Resumen - Zona
{
  OBJECT-PROPERTIES
  {
    Date=05/11/14;
    Time=17:53:00;
    Version List=TRANSFER,INV;
  }
  PROPERTIES
  {
    CaptionML=ESP=Prefactura Resumen - Zona;
  }
  DATAITEMS
  {
    { PROPERTIES
      {
        DataItemTable=Table7010415;
        DataItemTableView=SORTING(N§ Prefactura)
                          WHERE(Desactivada=CONST(No));
        NewPagePerGroup=Yes;
        OnPreDataItem=BEGIN
                        rInf.RESET; rInf.INIT;
                        rInf.FINDFIRST;
                      END;

        OnAfterGetRecord=BEGIN
                           rCon.RESET; rCon.INIT;
                           rCon.GET(Garaje, "N§ Contrato");
                         END;

        ReqFilterFields=N§ Prefactura;
        GroupTotalFields=N§ Prefactura;
      }
      SECTIONS
      {
        { PROPERTIES
          {
            SectionType=TransHeader;
            SectionWidth=16200;
            SectionHeight=3384;
          }
          CONTROLS
          {
            { 43  ;Label        ;0    ;846  ;2250 ;423  ;ParentControl=68;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 44  ;Label        ;0    ;1269 ;2250 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Cliente }
            { 64  ;Label        ;0    ;1692 ;2250 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Touroperador }
            { 65  ;Label        ;9450 ;846  ;2250 ;423  ;ParentControl=69;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 66  ;Label        ;9450 ;1269 ;2250 ;423  ;ParentControl=70;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 67  ;Label        ;9450 ;1692 ;2250 ;423  ;ParentControl=71;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 68  ;TextBox      ;2400 ;846  ;1800 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="N§ Prefactura" }
            { 69  ;TextBox      ;11850;846  ;1650 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Fecha desde" }
            { 70  ;TextBox      ;11850;1269 ;1650 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Fecha hasta" }
            { 71  ;TextBox      ;11850;1692 ;4350 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Tipos Servicio" }
            { 72  ;TextBox      ;2400 ;1269 ;4950 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=NomClienteFacturacion }
            { 73  ;TextBox      ;2400 ;1692 ;4950 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=nom_touroperador }
            { 74  ;Label        ;0    ;2538 ;1200 ;846  ;ParentControl=15;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 75  ;Label        ;1350 ;2538 ;1500 ;846  ;ParentControl=17;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 76  ;Label        ;14400;2538 ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Importe }
            { 77  ;Label        ;4200 ;2538 ;1500 ;846  ;ParentControl=23;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 78  ;Label        ;3000 ;2538 ;1050 ;846  ;ParentControl=39;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 79  ;Label        ;5850 ;2538 ;600  ;846  ;ParentControl=25;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 80  ;Label        ;6600 ;2538 ;750  ;846  ;ParentControl=27;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 81  ;Label        ;7500 ;2538 ;1500 ;846  ;ParentControl=29;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 82  ;Label        ;9150 ;2538 ;1500 ;846  ;ParentControl=31;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 83  ;Label        ;10800;2538 ;1500 ;846  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Destino }
            { 84  ;Label        ;12450;2538 ;750  ;846  ;ParentControl=33;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 85  ;Label        ;13350;2538 ;900  ;846  ;ParentControl=35;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Pax Fact. }
            { 86  ;TextBox      ;0    ;0    ;4950 ;423  ;FontSize=8;
                                                         SourceExpr=rInf.Name }
            { 87  ;TextBox      ;15450;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=CurrReport.PAGENO }
            { 88  ;Label        ;13950;0    ;1350 ;423  ;FontSize=8;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Pagina }
          }
           }
        { PROPERTIES
          {
            SectionType=GroupHeader;
            SectionWidth=16200;
            SectionHeight=2961;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT :=
                             CurrReport.TOTALSCAUSEDBY = "Prefactura ingreso".FIELDNO("N§ Prefactura");
                           CurrReport.PAGENO := 1;
                         END;

          }
          CONTROLS
          {
            { 42  ;TextBox      ;0    ;0    ;4950 ;423  ;FontSize=8;
                                                         SourceExpr=rInf.Name }
            { 8   ;TextBox      ;15450;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=CurrReport.PAGENO }
            { 9   ;Label        ;13950;0    ;1350 ;423  ;FontSize=8;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Pagina }
            { 1   ;Label        ;0    ;846  ;2250 ;423  ;ParentControl=3;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 2   ;Label        ;0    ;1269 ;2250 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Cliente }
            { 3   ;TextBox      ;2400 ;846  ;1800 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="N§ Prefactura" }
            { 4   ;TextBox      ;2400 ;1269 ;4950 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=NomClienteFacturacion }
            { 5   ;Label        ;0    ;1692 ;2250 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Touroperador }
            { 6   ;TextBox      ;2400 ;1692 ;4950 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=nom_touroperador }
            { 7   ;Label        ;0    ;2115 ;1200 ;846  ;ParentControl=15;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 10  ;Label        ;1350 ;2115 ;1500 ;846  ;ParentControl=17;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 11  ;Label        ;4200 ;2115 ;1500 ;846  ;ParentControl=23;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 12  ;Label        ;3000 ;2115 ;1050 ;846  ;ParentControl=39;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 13  ;Label        ;5850 ;2115 ;600  ;846  ;ParentControl=25;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 14  ;Label        ;6600 ;2115 ;750  ;846  ;ParentControl=27;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 16  ;Label        ;7500 ;2115 ;1500 ;846  ;ParentControl=29;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 18  ;Label        ;9450 ;846  ;2250 ;423  ;ParentControl=30;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 22  ;Label        ;9450 ;1269 ;2250 ;423  ;ParentControl=32;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 24  ;Label        ;9450 ;1692 ;2250 ;423  ;ParentControl=34;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes }
            { 26  ;Label        ;9150 ;2115 ;1500 ;846  ;ParentControl=31;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 28  ;Label        ;10800;2115 ;1500 ;846  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Destino }
            { 30  ;TextBox      ;11850;846  ;1650 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Fecha desde" }
            { 32  ;TextBox      ;11850;1269 ;1650 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Fecha hasta" }
            { 34  ;TextBox      ;11850;1692 ;4350 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Tipos Servicio" }
            { 36  ;Label        ;12450;2115 ;750  ;846  ;ParentControl=33;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 38  ;Label        ;13350;2115 ;900  ;846  ;ParentControl=35;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Pax Fact. }
            { 40  ;Label        ;14400;2115 ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Importe }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=0;
          }
          CONTROLS
          {
          }
           }
        { PROPERTIES
          {
            SectionType=GroupFooter;
            SectionWidth=16200;
            SectionHeight=3384;
            OnPreSection=BEGIN
                           IF w_maletas <> 0 THEN
                             w_texto_maletas := Text000
                           ELSE
                             w_texto_maletas := '';
                         END;

          }
          CONTROLS
          {
            { 49  ;Label        ;4350 ;423  ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=BASE IMPONIBLE }
            { 50  ;Label        ;6300 ;423  ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=IVA/IGIC }
            { 51  ;Label        ;8250 ;423  ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=TOTAL }
            { 52  ;Shape        ;4350 ;1269 ;5700 ;423  ;ShapeStyle=HorzLine }
            { 53  ;TextBox      ;4350 ;1692 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_base;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 54  ;TextBox      ;6300 ;1692 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_base_con - w_base;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 55  ;TextBox      ;8250 ;1692 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_base_con;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 56  ;TextBox      ;4350 ;2115 ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=w_maletas;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 57  ;TextBox      ;6300 ;2115 ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=[w_maletas_con - w_maletas ];
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 58  ;TextBox      ;8250 ;2115 ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=w_maletas_con;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 59  ;Shape        ;4350 ;2538 ;5700 ;423  ;ShapeStyle=HorzLine }
            { 60  ;TextBox      ;4350 ;2961 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_total;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 61  ;TextBox      ;6300 ;2961 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_total_con - w_total;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 62  ;TextBox      ;8250 ;2961 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_total_con;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 63  ;TextBox      ;900  ;1692 ;3300 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Tipos Servicio" }
            { 19  ;TextBox      ;900  ;2115 ;3300 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=w_texto_maletas }
            { 20  ;Label        ;900  ;2961 ;3150 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=TOTAL PREFACTURA }
          }
           }
      }
       }
    { PROPERTIES
      {
        DataItemIndent=1;
        DataItemTable=Table7010417;
        DataItemTableView=SORTING(N§ Prefactura,Fecha,Codigo Servicio,Hora,Parte)
                          ORDER(Ascending);
        OnPreDataItem=BEGIN
                        w_base := 0;
                        w_base_con := 0;
                        w_maletas := 0;
                        w_maletas_con := 0;
                        w_total := 0;
                        w_total_con := 0;
                        w_plazas := 0;
                        w_importe_con := 0;
                        w_primera_zona := TRUE;
                        w_pax_zona  := 0;
                        w_importe_zona := 0;
                        w_total_impresion := 0;
                      END;

        OnAfterGetRecord=VAR
                           lw_Importe_Con_Impuestos@1100244000 : Decimal;
                           lw_Importe_Sin_Impuestos@1100244001 : Decimal;
                           "rTipoCam.Divisas"@1100244002 : Record 330;
                           lw_Precio_Con_Impuestos@1100244003 : Decimal;
                           lw_Precio_Sin_Impuestos@1100244004 : Decimal;
                         BEGIN
                           wPrimeraLinea := "Lineas Prefactura".Parte <> wNoParte;
                           IF wPrimeraLinea THEN
                             wNoParte := "Lineas Prefactura".Parte;



                           IF w_ImpDivisaLocal THEN BEGIN
                             CLEAR(rDiv);
                             lw_Importe_Con_Impuestos := "rTipoCam.Divisas".ExchangeAmtFCYToFCY("Prefactura ingreso".Fecha,
                                                                          "Cod. Divisa",'',"Importe con impuestos");
                             lw_Importe_Sin_Impuestos := "rTipoCam.Divisas".ExchangeAmtFCYToFCY("Prefactura ingreso".Fecha,
                                                                          "Cod. Divisa",'',"Importe sin impuestos");

                             lw_Precio_Con_Impuestos  := "rTipoCam.Divisas".ExchangeAmtFCYToFCY("Prefactura ingreso".Fecha,
                                                                          "Cod. Divisa",'',"Precio con impuestos");
                             lw_Precio_Sin_Impuestos  := "rTipoCam.Divisas".ExchangeAmtFCYToFCY("Prefactura ingreso".Fecha,
                                                                          "Cod. Divisa",'',"Precio sin impuestos");

                           END
                           ELSE BEGIN
                             IF "Cod. Divisa" <> '' THEN
                               rDiv.GET("Cod. Divisa");
                             lw_Importe_Con_Impuestos := "Importe con impuestos";
                             lw_Importe_Sin_Impuestos := "Importe sin impuestos";
                             lw_Precio_Con_Impuestos  := "Precio con impuestos";
                             lw_Precio_Sin_Impuestos  := "Precio sin impuestos";
                           END;


                           // ---- En funcion del contrato se muestra el importe con impuestos o sin ellos   ----

                           IF rCon."Impuestos incluidos" THEN BEGIN
                             w_importe_impresion := lw_Importe_Con_Impuestos;
                             w_precio_impresion  := lw_Precio_Con_Impuestos;
                           END
                           ELSE BEGIN
                             w_importe_impresion := lw_Importe_Sin_Impuestos;
                             w_precio_impresion  := lw_Precio_Sin_Impuestos;
                           END;

                           IF (Tipo = Tipo::Base) OR (Tipo = Tipo::Zona) OR (Tipo = Tipo::Suplemento) OR (Tipo = Tipo::Extra)  THEN BEGIN
                             w_base            := w_base + lw_Importe_Sin_Impuestos;
                             w_base_con        := w_base_con + lw_Importe_Con_Impuestos;
                             w_tot_plazas      := w_tot_plazas + Plazas;
                             w_pax_zona        := w_pax_zona + Pax;
                             w_importe_zona    := w_importe_zona + w_importe_impresion;
                             w_total           := w_total + lw_Importe_Sin_Impuestos;
                             w_total_con       := w_total_con + lw_Importe_Con_Impuestos;
                             w_total_impresion := w_total_impresion + w_importe_impresion;
                           END;

                           IF Tipo = Tipo::Maletas THEN BEGIN
                             w_maletas     := w_maletas + lw_Importe_Sin_Impuestos;
                             w_maletas_con := w_maletas_con + lw_Importe_Con_Impuestos;

                             // ---- Si las maletas estaban incluidas en el precio base hay que descontar a la hora ----
                             // ---- de mostrar el total base                                                       ----

                             IF NOT rCon."Maletas incluidas" THEN BEGIN
                               w_total           := w_total + lw_Importe_Sin_Impuestos;
                               w_total_con       := w_total_con + lw_Importe_Con_Impuestos;
                             END
                             ELSE BEGIN
                               w_base     := w_base - lw_Importe_Sin_Impuestos;
                               w_base_con := w_base_con - lw_Importe_Con_Impuestos;
                             END;
                           END;

                           // Creada variable auxiliar para controlar cuando hacer el total del resumen x zona
                           //
                           rLin.COPY("Lineas Prefactura");
                           IF rLin.NEXT = 0 THEN
                             rLin.INIT;
                         END;

        DataItemLink=N§ Prefactura=FIELD(N§ Prefactura);
      }
      SECTIONS
      {
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(Tipo = 12);
                         END;

          }
          CONTROLS
          {
            { 15  ;TextBox      ;0    ;0    ;1200 ;423  ;FontSize=8;
                                                         SourceExpr=Fecha }
            { 17  ;TextBox      ;1350 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr="Codigo Servicio" }
            { 23  ;TextBox      ;4200 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Vuelo }
            { 25  ;TextBox      ;5850 ;0    ;600  ;423  ;FontSize=8;
                                                         SourceExpr=Letra }
            { 27  ;TextBox      ;6600 ;0    ;750  ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Bus }
            { 29  ;TextBox      ;7500 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Parte }
            { 31  ;TextBox      ;9150 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Origen }
            { 33  ;TextBox      ;12450;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=Pax }
            { 35  ;TextBox      ;13350;0    ;900  ;423  ;FontSize=8;
                                                         SourceExpr=Plazas }
            { 37  ;TextBox      ;10800;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Destino }
            { 39  ;TextBox      ;3000 ;0    ;1050 ;423  ;FontSize=8;
                                                         SourceExpr=Hora;
                                                         Format=<Hours24,2>:<Minutes,2> }
            { 21  ;TextBox      ;14400;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(Tipo = Tipo::Zona);
                         END;

          }
          CONTROLS
          {
            { 89  ;TextBox      ;10800;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Destino }
            { 90  ;TextBox      ;12450;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=Pax }
            { 91  ;TextBox      ;13350;0    ;900  ;423  ;FontSize=8;
                                                         SourceExpr=Plazas }
            { 92  ;TextBox      ;14400;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 47  ;TextBox      ;9150 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Origen }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(((Tipo = Tipo::Suplemento) OR (Tipo = Tipo::Extra)) AND (NOT wPrimeraLinea));
                         END;

          }
          CONTROLS
          {
            { 41  ;TextBox      ;10800;0    ;3450 ;423  ;FontSize=8;
                                                         SourceExpr=Descripcion }
            { 46  ;TextBox      ;14400;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(((Tipo = Tipo::Suplemento) OR (Tipo = Tipo::Extra)) AND wPrimeraLinea);
                         END;

          }
          CONTROLS
          {
            { 48  ;TextBox      ;10800;0    ;3450 ;423  ;FontSize=8;
                                                         SourceExpr=Descripcion }
            { 112 ;TextBox      ;14400;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 113 ;TextBox      ;7500 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=Parte }
            { 114 ;TextBox      ;6600 ;0    ;750  ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Bus }
            { 118 ;TextBox      ;1350 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr="Codigo Servicio" }
            { 119 ;TextBox      ;0    ;0    ;1200 ;423  ;FontSize=8;
                                                         SourceExpr=Fecha }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=1269;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT((Tipo = Tipo::Base) AND (w_primera_zona));
                         END;

          }
          CONTROLS
          {
            { 93  ;Label        ;750  ;0    ;2550 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Resumen }
            { 94  ;Label        ;3900 ;0    ;2400 ;846  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Zona }
            { 95  ;Label        ;6450 ;0    ;1050 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Pax }
            { 96  ;Label        ;7650 ;0    ;1200 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Plazas }
            { 97  ;Label        ;9000 ;0    ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Precio }
            { 98  ;Label        ;10950;0    ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Importe }
            { 99  ;TextBox      ;6450 ;846  ;1050 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=Pax }
            { 100 ;TextBox      ;7650 ;846  ;1200 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=Plazas }
            { 101 ;TextBox      ;10950;846  ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 102 ;TextBox      ;3900 ;846  ;2400 ;423  ;FontSize=8;
                                                         SourceExpr=Zona }
            { 104 ;TextBox      ;9000 ;846  ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=w_precio_impresion;
                                                         AutoFormatType=2;
                                                         AutoFormatExpr=rDiv.Code }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT((Tipo = Tipo::Base) AND (NOT w_primera_zona));
                           IF Tipo = Tipo::Base THEN
                             w_primera_zona := FALSE;
                         END;

          }
          CONTROLS
          {
            { 106 ;TextBox      ;10950;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 108 ;TextBox      ;7650 ;0    ;1200 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=Plazas }
            { 109 ;TextBox      ;6450 ;0    ;1050 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=Pax }
            { 110 ;TextBox      ;3900 ;0    ;2400 ;423  ;FontSize=8;
                                                         SourceExpr=Zona }
            { 103 ;TextBox      ;9000 ;0    ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=w_precio_impresion;
                                                         AutoFormatType=2;
                                                         AutoFormatExpr=rDiv.Code }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=16200;
            SectionHeight=1269;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT((Tipo = Tipo::Base) AND
                                                 ((rLin.Tipo <> rLin.Tipo::Base) OR (rLin.Zona = '')));
                         END;

          }
          CONTROLS
          {
            { 105 ;Label        ;3900 ;423  ;2400 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Total Resumen }
            { 107 ;TextBox      ;6450 ;423  ;1050 ;423  ;FontSize=8;
                                                         SourceExpr=w_pax_zona }
            { 111 ;TextBox      ;10950;423  ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_zona;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 45  ;Shape        ;6450 ;0    ;6300 ;423  ;ShapeStyle=HorzLine }
          }
           }
      }
       }
  }
  REQUESTFORM
  {
    PROPERTIES
    {
      Width=9020;
      Height=3410;
    }
    CONTROLS
    {
      { 1   ;Label        ;220  ;220  ;3300 ;440  ;ParentControl=2;
                                                   CaptionML=ESP=Imprime Divisa Local }
      { 2   ;CheckBox     ;3080 ;220  ;440  ;440  ;ShowCaption=No;
                                                   SourceExpr=w_ImpDivisaLocal }
    }
  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
    }
  }
  CODE
  {
    VAR
      Text000@1100244023 : TextConst 'ESP=MALETAS';
      rCon@1100244000 : Record 7010403;
      rLin@1100244001 : Record 7010417;
      rInf@1100244002 : Record 79;
      w_base@1100244003 : Decimal;
      w_base_con@1100244004 : Decimal;
      w_maletas@1100244005 : Decimal;
      w_maletas_con@1100244006 : Decimal;
      w_total@1100244007 : Decimal;
      w_total_con@1100244008 : Decimal;
      w_plazas@1100244009 : Decimal;
      w_importe_con@1100244010 : Decimal;
      w_tot_plazas@1100244011 : Decimal;
      w_pax_zona@1100244012 : Decimal;
      w_importe_zona@1100244013 : Decimal;
      w_importe_impresion@1100244014 : Decimal;
      w_total_impresion@1100244015 : Decimal;
      w_texto_maletas@1100244016 : Text[30];
      w_primera_zona@1100244017 : Boolean;
      w_ImpDivisaLocal@1100244018 : Boolean;
      rDiv@1100244019 : Record 4;
      w_precio_impresion@1100244020 : Decimal;
      wNoParte@1100244021 : Code[10];
      wPrimeraLinea@1100244022 : Boolean;

    BEGIN
    END.
  }
  RDLDATA
  {
  }
}
