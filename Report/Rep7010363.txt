OBJECT Report 7010363 Prefactura sin resumen SANJOSE
{
  OBJECT-PROPERTIES
  {
    Date=16/10/09;
    Time=12:34:33;
    Version List=TRANSFER,INV;
  }
  PROPERTIES
  {
    CaptionML=ESP=Prefactura sin resumen;
    BottomMargin=1000;
    LeftMargin=1000;
  }
  DATAITEMS
  {
    { PROPERTIES
      {
        DataItemTable=Table7010415;
        DataItemTableView=SORTING(N§ Prefactura)
                          WHERE(Desactivada=CONST(No));
        NewPagePerGroup=Yes;
        OnPreDataItem=VAR
                        rCliTTOO@1100244001 : Record 7010313;
                      BEGIN
                        //FormatDire.FormatAddr(DirClie, "Sales Header");
                        IF "Prefactura ingreso".FINDLAST THEN BEGIN
                          rCliTTOO.GET("Prefactura ingreso".Cliente,"Prefactura ingreso".Touroperador);
                          rCli.GET(rCliTTOO."Cliente facturacion");
                          rTO.GET(rCliTTOO.TTOO);
                        END;
                      END;

        OnAfterGetRecord=BEGIN
                           rCon.RESET; rCon.INIT;
                           rCon.GET(Garaje, "N§ Contrato");
                           IF wDivisaLocal THEN
                             CLEAR(rDiv)
                           ELSE BEGIN
                             IF rCon."Cod. Divisa" <> '' THEN
                               rDiv.GET(rCon."Cod. Divisa");
                           END;

                           IF "Prefactura ingreso".Facturada THEN
                             wEsYaFactura := TRUE
                           ELSE
                             wEsYaFactura := FALSE;


                           IF "Prefactura ingreso".Garaje = Text50000 THEN BEGIN
                             wDatosFiscales  := Text50001;
                             wDatosFiscales2 := Text50002;
                             wPresentacion  := Text50003;
                           END
                           ELSE BEGIN
                             wDatosFiscales:= Text50004;
                             wDatosFiscales2 := Text50002;
                             wPresentacion := Text50005;
                           END;
                         END;

        ReqFilterFields=N§ Prefactura;
        GroupTotalFields=N§ Prefactura;
      }
      SECTIONS
      {
        { PROPERTIES
          {
            SectionType=Header;
            PrintOnEveryPage=Yes;
            SectionWidth=18330;
            SectionHeight=1269;
          }
          CONTROLS
          {
            { 1100244027;TextBox;0    ;0    ;14100;846  ;FontSize=12;
                                                         FontBold=Yes;
                                                         SourceExpr=wPresentacion }
            { 1100244029;Shape  ;0    ;846  ;18300;423  ;ShapeStyle=HorzLine }
          }
           }
        { PROPERTIES
          {
            SectionType=Header;
            PrintOnEveryPage=Yes;
            SectionWidth=18330;
            SectionHeight=4230;
            OnPreSection=VAR
                           rCV@1100244000 : Record 36;
                         BEGIN
                           IF wEsYaFactura THEN BEGIN
                             wX1 := Text50006;
                             wX2 :=  "Prefactura ingreso"."N§ Factura";
                             wX3 :=  Text50007;

                             rCV.RESET;
                             IF "Prefactura ingreso"."Tipo Documento" = "Prefactura ingreso"."Tipo Documento"::"Credit Memo" THEN BEGIN
                               IF rCV.GET(rCV."Document Type"::"Credit Memo", "Prefactura ingreso"."N§ Factura") THEN
                                 wX4 := rCV."Posting Date"
                             END
                             ELSE BEGIN
                               IF rCV.GET(rCV."Document Type"::Invoice, "Prefactura ingreso"."N§ Factura") THEN
                                 wX4 := rCV."Posting Date"
                             END;

                             IF wX4 = 0D THEN
                               wX4 := "Prefactura ingreso"."Fecha Registro factura";

                           END
                           ELSE BEGIN
                             wX1 := Text50008;
                             wX2 :=  "Prefactura ingreso"."N§ Prefactura";
                             wX3 :=  Text50007;
                             //wX4 :=  "Prefactura ingreso".Fecha;
                             wX4 :=  "Prefactura ingreso"."Fecha Registro factura";
                           END;
                         END;

          }
          CONTROLS
          {
            { 1100244002;TextBox;4200 ;2538 ;1350 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Fecha hasta" }
            { 1100244000;TextBox;2400 ;2538 ;1350 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Fecha desde" }
            { 68  ;TextBox      ;2400 ;1269 ;1800 ;423  ;Name=NPrefac;
                                                         HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=wX2 }
            { 1100244007;TextBox;13050;423  ;5250 ;423  ;FontSize=9;
                                                         SourceExpr=rTO.Nombre }
            { 1100244006;TextBox;13050;2115 ;5250 ;423  ;FontSize=9;
                                                         SourceExpr=rCli."VAT Registration No." }
            { 76  ;Label        ;16500;3384 ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Importe }
            { 85  ;Label        ;15450;3384 ;900  ;846  ;ParentControl=35;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 84  ;Label        ;13650;3384 ;750  ;846  ;ParentControl=33;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=AD }
            { 83  ;Label        ;11250;3384 ;2250 ;846  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Destino }
            { 82  ;Label        ;8850 ;3384 ;2250 ;846  ;ParentControl=31;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 81  ;Label        ;7200 ;3384 ;1500 ;846  ;ParentControl=29;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 80  ;Label        ;6300 ;3384 ;750  ;846  ;ParentControl=27;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 77  ;Label        ;4500 ;3384 ;1650 ;846  ;ParentControl=23;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 78  ;Label        ;3600 ;3384 ;750  ;846  ;ParentControl=39;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 75  ;Label        ;1350 ;3384 ;2100 ;846  ;ParentControl=17;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=Codigo Servicio }
            { 74  ;Label        ;0    ;3384 ;1200 ;846  ;ParentControl=15;
                                                         HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes }
            { 1100244003;TextBox;13050;0    ;5250 ;423  ;FontSize=9;
                                                         SourceExpr=rCli.Name }
            { 1100244012;Label  ;14550;3384 ;750  ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=NI }
            { 1100244021;TextBox;13050;846  ;5250 ;423  ;FontSize=9;
                                                         SourceExpr=rCli.Address }
            { 1100244022;TextBox;13050;1269 ;1350 ;423  ;HorzAlign=Left;
                                                         FontSize=9;
                                                         SourceExpr=rCli."Post Code" }
            { 1100244023;TextBox;14550;1269 ;3750 ;423  ;FontSize=9;
                                                         SourceExpr=rCli.City }
            { 1100244024;TextBox;13050;1692 ;5250 ;423  ;FontSize=9;
                                                         SourceExpr=rCli.County }
            { 1100244025;Label  ;3750 ;2538 ;450  ;423  ;FontSize=8;
                                                         CaptionML=ESP=al }
            { 1100244001;TextBox;150  ;1269 ;2100 ;423  ;Name=NPrefac;
                                                         HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         SourceExpr=wX1 }
            { 1100244033;TextBox;150  ;1692 ;2100 ;423  ;Name=NPrefac;
                                                         HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         SourceExpr=wX3 }
            { 1100244034;TextBox;2400 ;1692 ;1800 ;423  ;Name=NPrefac;
                                                         HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=wX4 }
            { 1100244026;Label  ;150  ;2538 ;2100 ;423  ;FontSize=8;
                                                         FontBold=Yes;
                                                         CaptionML=ESP=Ambito }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=0;
          }
          CONTROLS
          {
          }
           }
        { PROPERTIES
          {
            SectionType=GroupFooter;
            SectionWidth=18330;
            SectionHeight=4230;
            OnPreSection=VAR
                           lAux@1100244000 : Decimal;
                         BEGIN
                           IF w_maletas <> 0 THEN
                             w_texto_maletas := Text000
                           ELSE
                             w_texto_maletas := '';


                           lAux := ROUND((w_total * 0.07),0.01);
                           w_total_con := w_total + lAux;

                           lAux := ROUND((w_maletas * 0.07),0.01);
                           w_maletas_con := w_maletas + lAux;

                           lAux := ROUND((w_base * 0.07),0.01);
                           w_base_con := w_base + lAux;
                         END;

          }
          CONTROLS
          {
            { 45  ;Label        ;10200;423  ;2700 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Totales }
            { 46  ;TextBox      ;14550;423  ;750  ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=w_TotNI }
            { 47  ;TextBox      ;16500;423  ;1800 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=w_total_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 48  ;Shape        ;13650;0    ;4650 ;423  ;ShapeStyle=HorzLine }
            { 49  ;Label        ;12600;1269 ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=BASE IMPONIBLE }
            { 50  ;Label        ;14550;1269 ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=IVA/IGIC }
            { 51  ;Label        ;16500;1269 ;1800 ;846  ;HorzAlign=Right;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         MultiLine=Yes;
                                                         CaptionML=ESP=TOTAL }
            { 52  ;Shape        ;12600;2115 ;5700 ;423  ;ShapeStyle=HorzLine }
            { 53  ;TextBox      ;12600;2538 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_base;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 54  ;TextBox      ;14550;2538 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_base_con - w_base;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 55  ;TextBox      ;16500;2538 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_base_con;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 56  ;TextBox      ;12600;2961 ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=w_maletas;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 57  ;TextBox      ;14550;2961 ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=[w_maletas_con - w_maletas ];
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 58  ;TextBox      ;16500;2961 ;1800 ;423  ;FontSize=8;
                                                         BlankZero=Yes;
                                                         SourceExpr=w_maletas_con;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 59  ;Shape        ;12600;3384 ;5700 ;423  ;ShapeStyle=HorzLine }
            { 60  ;TextBox      ;12600;3807 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_total;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 61  ;TextBox      ;14550;3807 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_total_con - w_total;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 62  ;TextBox      ;16500;3807 ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_total_con;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 63  ;TextBox      ;9150 ;2538 ;3300 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr="Tipos Servicio" }
            { 19  ;TextBox      ;9150 ;2961 ;3300 ;423  ;HorzAlign=Left;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=w_texto_maletas }
            { 20  ;Label        ;9150 ;3807 ;3300 ;423  ;HorzAlign=General;
                                                         VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP="TOTAL " }
            { 1100244020;TextBox;13650;423  ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_TotAd }
          }
           }
        { PROPERTIES
          {
            SectionType=TransFooter;
            SectionWidth=18330;
            SectionHeight=846;
          }
          CONTROLS
          {
            { 1100244031;Label  ;13650;0    ;2700 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         FontBold=Yes;
                                                         LeaderDots=Yes;
                                                         CaptionML=ESP=Suma y sigue }
            { 1100244037;TextBox;16500;0    ;1800 ;423  ;VertAlign=Bottom;
                                                         FontSize=8;
                                                         SourceExpr=wSumaySigue;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
          }
           }
        { PROPERTIES
          {
            SectionType=Footer;
            PrintOnEveryPage=Yes;
            PlaceInBottom=Yes;
            SectionWidth=18330;
            SectionHeight=1269;
          }
          CONTROLS
          {
            { 1100244028;TextBox;0    ;0    ;18300;423  ;HorzAlign=Center;
                                                         SourceExpr=wDatosFiscales }
            { 87  ;TextBox      ;17700;846  ;450  ;423  ;FontSize=8;
                                                         SourceExpr=CurrReport.PAGENO }
            { 1100244035;Label  ;16800;846  ;900  ;423  ;CaptionML=ESP=P gina }
            { 1100244030;TextBox;0    ;423  ;18300;423  ;HorzAlign=Center;
                                                         SourceExpr=wDatosFiscales2 }
          }
           }
      }
       }
    { PROPERTIES
      {
        DataItemIndent=1;
        DataItemTable=Table7010417;
        DataItemTableView=SORTING(N§ Prefactura,Fecha,Codigo Servicio,Hora,Parte)
                          ORDER(Ascending);
        OnPreDataItem=BEGIN
                        w_base := 0;
                        w_base_con := 0;
                        w_maletas := 0;
                        w_maletas_con := 0;
                        w_total := 0;
                        w_total_con := 0;
                        w_plazas := 0;
                        w_importe_con := 0;
                        w_total_impresion := 0;
                        w_TotAd := 0;
                        w_TotNI := 0;

                        CurrReport.CREATETOTALS(Pax, "Importe con impuestos", "Importe sin impuestos");
                      END;

        OnAfterGetRecord=VAR
                           rTTOO@1100244005 : Record 7010365;
                           rZPrecioParte@1100244003 : Record 7010364;
                           rCS@1100244004 : Record 7010320;
                           lw_Impo_Sin_Impu@1100244000 : Decimal;
                           lw_Impo_Con_Impu@1100244001 : Decimal;
                           "rTipoCam.Divisas"@1100244002 : Record 330;
                         BEGIN
                           // ---- En funcion del contrato se muestra el importe con impuestos o sin ellos   ----

                           wPrimeraLinea := "Lineas Prefactura".Parte <> wNoParte;
                           IF wPrimeraLinea THEN
                             wNoParte := "Lineas Prefactura".Parte;

                           //Seg£n se deseen los importes en divisa local o no, se har  una conversi¢n o no
                           IF wDivisaLocal THEN BEGIN
                             lw_Impo_Con_Impu := "rTipoCam.Divisas".ExchangeAmtFCYToFCY("Prefactura ingreso"."Fecha desde",
                                                                                 "Cod. Divisa",'',"Importe con impuestos");
                             lw_Impo_Sin_Impu := "rTipoCam.Divisas".ExchangeAmtFCYToFCY("Prefactura ingreso"."Fecha desde",
                                                                                 "Cod. Divisa",'',"Importe sin impuestos");
                           END
                           ELSE BEGIN
                             lw_Impo_Con_Impu := "Importe con impuestos";
                             lw_Impo_Sin_Impu := "Importe sin impuestos";
                           END;


                           IF rCon."Impuestos incluidos" THEN
                             w_importe_impresion := lw_Impo_Con_Impu
                           ELSE
                             w_importe_impresion := "Importe sin impuestos";

                           IF (Tipo = Tipo::Base) OR (Tipo = Tipo::Zona) OR (Tipo = Tipo::Suplemento) OR (Tipo = Tipo::Extra) THEN BEGIN
                             w_base            := w_base + lw_Impo_Sin_Impu;
                             w_base_con        := w_base_con + lw_Impo_Con_Impu;
                             w_total           := w_total + lw_Impo_Sin_Impu;
                             w_total_con       := w_total_con + lw_Impo_Con_Impu;
                             w_total_impresion := w_total_impresion + w_importe_impresion;

                             //Tendremos en cuenta la zona fisica.
                             rTTOO.GET(Parte,Touroperador);
                             w_AD := rTTOO."Adultos transportados";
                             w_NI := rTTOO."Ni¤os transportados";


                             //Y en su lugar .....
                             //w_AD := 0;
                             //w_NI := 0;
                             //IF rZPrecioParte.GET(Parte,rZPrecioParte."Tipo contrato"::Venta,"Prefactura ingreso"."N§ Contrato",Zona) THEN BEGIN
                             //  w_AD := rZPrecioParte."Adultos Transportados zona";
                             //  w_NI := rZPrecioParte."Ni¤os Transportados zona";
                             w_TotAd += w_AD;
                             w_TotNI += w_NI;

                             //END;
                             //end.rrt.

                           END;

                           IF Tipo = Tipo::Maletas THEN BEGIN
                             w_maletas     := w_maletas + lw_Impo_Sin_Impu;
                             w_maletas_con := w_maletas_con + lw_Impo_Con_Impu;

                             // ---- Si las maletas estaban incluidas en el precio base hay que descontar a la hora ----
                             // ---- de mostrar el total base                                                       ----

                             IF NOT rCon."Maletas incluidas" THEN BEGIN
                               w_total           := w_total + lw_Impo_Sin_Impu;
                               w_total_con       := w_total_con + lw_Impo_Con_Impu;
                             END
                             ELSE BEGIN
                               w_base     := w_base - lw_Impo_Sin_Impu;
                               w_base_con := w_base_con - lw_Impo_Con_Impu;
                             END;
                           END;

                           rCS.GET("Codigo Servicio");
                           w_Servicio := rCS.Descripcion;
                         END;

        DataItemLink=N§ Prefactura=FIELD(N§ Prefactura);
      }
      SECTIONS
      {
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=423;
            OnPreSection=BEGIN
                           //En algun sitio hay que poner el siguiente codigo.

                           CurrReport.SHOWOUTPUT( (Tipo = Tipo::Base) AND ("Tipo Servicio Fijo"  = "Tipo Servicio Fijo"::Excursion) );
                         END;

          }
          CONTROLS
          {
            { 1100244004;TextBox;0    ;0    ;1200 ;423  ;FontSize=8;
                                                         SourceExpr=Fecha }
            { 1100244005;TextBox;1350 ;0    ;2100 ;423  ;FontSize=8;
                                                         SourceExpr=w_Servicio }
            { 1100244008;TextBox;3600 ;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=Hora;
                                                         Format=<Hours24,2>:<Minutes,2> }
            { 1100244009;TextBox;4500 ;0    ;1650 ;423  ;FontSize=8;
                                                         SourceExpr=Vuelo }
            { 1100244010;TextBox;6300 ;0    ;750  ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Bus }
            { 1100244011;TextBox;7200 ;0    ;1500 ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Parte }
            { 1100244014;TextBox;14550;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_NI }
            { 1100244015;TextBox;15450;0    ;900  ;423  ;FontSize=8;
                                                         SourceExpr=Plazas }
            { 1100244016;TextBox;16500;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 1100244017;TextBox;8850 ;0    ;4650 ;423  ;FontSize=8;
                                                         SourceExpr="Concepto facturacion" }
            { 1100244013;TextBox;13650;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_AD }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT( (Tipo = Tipo::Base) AND ("Tipo Servicio Fijo" <> "Tipo Servicio Fijo"::Excursion) );
                         END;

          }
          CONTROLS
          {
            { 15  ;TextBox      ;0    ;0    ;1200 ;423  ;FontSize=8;
                                                         SourceExpr=Fecha }
            { 17  ;TextBox      ;1350 ;0    ;2100 ;423  ;FontSize=8;
                                                         SourceExpr=w_Servicio }
            { 39  ;TextBox      ;3600 ;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=Hora;
                                                         Format=<Hours24,2>:<Minutes,2> }
            { 23  ;TextBox      ;4500 ;0    ;1650 ;423  ;FontSize=8;
                                                         SourceExpr=Vuelo }
            { 27  ;TextBox      ;6300 ;0    ;750  ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Bus }
            { 29  ;TextBox      ;7200 ;0    ;1500 ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Parte }
            { 31  ;TextBox      ;8850 ;0    ;2250 ;423  ;FontSize=8;
                                                         SourceExpr=Origen }
            { 37  ;TextBox      ;11250;0    ;2250 ;423  ;FontSize=8;
                                                         SourceExpr=Destino }
            { 33  ;TextBox      ;14550;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_NI }
            { 35  ;TextBox      ;15450;0    ;900  ;423  ;FontSize=8;
                                                         SourceExpr=Plazas }
            { 21  ;TextBox      ;16500;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 1100244018;TextBox;13650;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_AD }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(Tipo = Tipo::Zona);
                         END;

          }
          CONTROLS
          {
            { 89  ;TextBox      ;11250;0    ;2250 ;423  ;FontSize=8;
                                                         SourceExpr=Destino }
            { 90  ;TextBox      ;14550;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_NI }
            { 91  ;TextBox      ;15450;0    ;900  ;423  ;FontSize=8;
                                                         SourceExpr=Plazas }
            { 92  ;TextBox      ;16500;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 94  ;TextBox      ;8850 ;0    ;2250 ;423  ;FontSize=8;
                                                         SourceExpr=Origen }
            { 1100244019;TextBox;13650;0    ;750  ;423  ;FontSize=8;
                                                         SourceExpr=w_AD }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(((Tipo = Tipo::Suplemento) OR (Tipo = Tipo::Extra)) AND (NOT wPrimeraLinea));
                         END;

          }
          CONTROLS
          {
            { 41  ;TextBox      ;11250;0    ;5100 ;423  ;FontSize=8;
                                                         SourceExpr=Descripcion }
            { 93  ;TextBox      ;16500;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=423;
            OnPreSection=BEGIN
                           CurrReport.SHOWOUTPUT(((Tipo = Tipo::Suplemento) OR (Tipo = Tipo::Extra)) AND  wPrimeraLinea);
                         END;

          }
          CONTROLS
          {
            { 95  ;TextBox      ;11250;0    ;5100 ;423  ;FontSize=8;
                                                         SourceExpr=Descripcion }
            { 96  ;TextBox      ;16500;0    ;1800 ;423  ;FontSize=8;
                                                         SourceExpr=w_importe_impresion;
                                                         AutoFormatType=1;
                                                         AutoFormatExpr=rDiv.Code }
            { 97  ;TextBox      ;0    ;0    ;1200 ;423  ;FontSize=8;
                                                         SourceExpr=Fecha }
            { 98  ;TextBox      ;1350 ;0    ;1500 ;423  ;FontSize=8;
                                                         SourceExpr=w_Servicio }
            { 103 ;TextBox      ;7200 ;0    ;1500 ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Parte }
            { 99  ;TextBox      ;6300 ;0    ;750  ;423  ;HorzAlign=Left;
                                                         FontSize=8;
                                                         SourceExpr=Bus }
          }
           }
        { PROPERTIES
          {
            SectionType=Body;
            SectionWidth=18330;
            SectionHeight=0;
            OnPreSection=BEGIN
                           wSumaySigue += w_importe_impresion;
                           CurrReport.SHOWOUTPUT(FALSE);
                         END;

          }
          CONTROLS
          {
          }
           }
      }
       }
  }
  REQUESTFORM
  {
    PROPERTIES
    {
      Width=3850;
      Height=1430;
    }
    CONTROLS
    {
      { 1   ;Label        ;220  ;220  ;3300 ;440  ;ParentControl=3;
                                                   CaptionML=ESP=Imprime Divisa Local }
      { 3   ;CheckBox     ;2970 ;220  ;440  ;440  ;ShowCaption=No;
                                                   SourceExpr=wDivisaLocal }
    }
  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
    }
  }
  CODE
  {
    VAR
      Text50000@1103355000 : TextConst 'ESP=MONTUR';
      Text50001@1103355001 : TextConst 'ESP=Montur, S.A.,    C/Arag¢n, 78, Eivissa, 07800, CIF: A-07159445';
      Text50002@1103355002 : TextConst 'ESP=Tfno.: 971 341041, Fax: 971 341598';
      Text50003@1103355003 : TextConst 'ESP=MONTUR, S.A.';
      Text50004@1103355004 : TextConst 'ESP=Autocares San Jose, S.A., Avda. Dr. Fleming, 76 A, Sant Antoni de Portmany, 07820, CIF: A-07173214';
      Text50005@1103355005 : TextConst 'ESP=AUTOCARES SAN JOSE, S.A.';
      Text50006@1103355006 : TextConst 'ESP=N§ Factura';
      Text50007@1103355007 : TextConst 'ESP=Fecha';
      Text50008@1103355008 : TextConst 'ESP=N§ Prefactura';
      Text000@1100244017 : TextConst 'ESP=MALETAS';
      rCon@1100244000 : Record 7010403;
      rInf@1100244001 : Record 79;
      rDiv@1100244002 : Record 4;
      w_base@1100244003 : Decimal;
      w_base_con@1100244004 : Decimal;
      w_maletas@1100244005 : Decimal;
      w_maletas_con@1100244006 : Decimal;
      w_total@1100244007 : Decimal;
      w_total_con@1100244008 : Decimal;
      w_plazas@1100244009 : Decimal;
      w_importe_con@1100244010 : Decimal;
      w_importe_impresion@1100244011 : Decimal;
      w_total_impresion@1100244012 : Decimal;
      w_texto_maletas@1100244013 : Text[30];
      wDivisaLocal@1100244014 : Boolean;
      wNoParte@1100244015 : Code[10];
      wPrimeraLinea@1100244016 : Boolean;
      FormatDire@1100244018 : Codeunit 365;
      DirClie@1100244019 : ARRAY [8] OF Text[50];
      rCli@1100244020 : Record 18;
      rTO@1100244021 : Record 7010312;
      w_AD@1100244022 : Integer;
      w_NI@1100244023 : Integer;
      w_TotAd@1100244024 : Integer;
      w_TotNI@1100244025 : Integer;
      w_Servicio@1100244026 : Text[30];
      wEsYaFactura@1100244027 : Boolean;
      wX1@1100244028 : Text[20];
      wX2@1100244029 : Text[20];
      wX3@1100244032 : Text[20];
      wX4@1100244033 : Date;
      wDatosFiscales@1100244030 : Text[250];
      wPresentacion@1100244031 : Text[100];
      wDatosFiscales2@1100244034 : Text[100];
      wSumaySigue@1100244035 : Decimal;

    BEGIN
    END.
  }
  RDLDATA
  {
  }
}
