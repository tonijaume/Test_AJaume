OBJECT Form 9124 Service Line FactBox
{
  OBJECT-PROPERTIES
  {
    Date=05/11/08;
    Time=12:00:00;
    Version List=NAVW16.00;
  }
  PROPERTIES
  {
    Width=10230;
    Height=3960;
    CaptionML=ENU=Sales Line Details;
    SourceTable=Table5902;
  }
  CONTROLS
  {
    { 11  ;TextBox      ;3630 ;3190 ;1210 ;440  ;Editable=Yes;
                                                 Focusable=No;
                                                 HorzAlign=Right;
                                                 Border=No;
                                                 DrillDown=Yes;
                                                 CaptionML=ENU=Sales Line Discounts;
                                                 SourceExpr=STRSUBSTNO('%1',ServInfoPaneMgt.CalcNoOfSalesLineDisc(Rec));
                                                 OnDrillDown=BEGIN
                                                               ShowLineDisc;
                                                               CurrForm.UPDATE;
                                                             END;
                                                              }
    { 7   ;TextBox      ;3630 ;2420 ;1210 ;440  ;Editable=Yes;
                                                 Focusable=No;
                                                 HorzAlign=Right;
                                                 Border=No;
                                                 DrillDown=Yes;
                                                 CaptionML=ENU=Sales Prices;
                                                 SourceExpr=STRSUBSTNO('%1',ServInfoPaneMgt.CalcNoOfSalesPrices(Rec));
                                                 OnDrillDown=BEGIN
                                                               ShowPrices;
                                                               CurrForm.UPDATE;
                                                             END;
                                                              }
    { 5   ;TextBox      ;3630 ;1650 ;1210 ;440  ;Editable=Yes;
                                                 Focusable=No;
                                                 HorzAlign=Right;
                                                 Border=No;
                                                 DrillDown=Yes;
                                                 CaptionML=ENU=Substitutions;
                                                 SourceExpr=STRSUBSTNO('%1',ServInfoPaneMgt.CalcNoOfSubstitutions(Rec));
                                                 OnDrillDown=BEGIN
                                                               ShowItemSub;
                                                               CurrForm.UPDATE;
                                                             END;
                                                              }
    { 3   ;TextBox      ;3630 ;1002 ;1210 ;428  ;Editable=Yes;
                                                 Focusable=No;
                                                 HorzAlign=Right;
                                                 Border=No;
                                                 DrillDown=Yes;
                                                 CaptionML=ENU=Availability;
                                                 DecimalPlaces=2:0;
                                                 SourceExpr=STRSUBSTNO('%1',ServInfoPaneMgt.CalcAvailability(Rec));
                                                 OnDrillDown=BEGIN
                                                               ItemAvailability(0);
                                                             END;
                                                              }
    { 1   ;Label        ;330  ;990  ;3300 ;440  ;ParentControl=3 }
    { 2   ;Label        ;330  ;1650 ;3300 ;440  ;ParentControl=5 }
    { 4   ;Label        ;330  ;2420 ;3300 ;440  ;ParentControl=7 }
    { 6   ;Label        ;330  ;3190 ;3300 ;440  ;ParentControl=11 }
    { 8   ;TextBox      ;3740 ;330  ;2750 ;440  ;Lookup=No;
                                                 CaptionML=ENU=Item No.;
                                                 SourceExpr="No.";
                                                 OnDrillDown=BEGIN
                                                               ShowDetails;
                                                             END;
                                                              }
    { 12  ;Label        ;330  ;330  ;3300 ;440  ;ParentControl=8 }
  }
  CODE
  {
    VAR
      ServHeader@1000 : Record 5900;
      ServInfoPaneMgt@1003 : Codeunit 5972;
      SalesPriceCalcMgt@1001 : Codeunit 7000;

    PROCEDURE ShowDetails@1102601000();
    VAR
      Item@1102601000 : Record 27;
    BEGIN
      IF Type = Type::Item THEN BEGIN
        Item.GET("No.");
        FORM.RUN(FORM::"Item Card",Item);
      END;
    END;

    PROCEDURE ShowPrices@15();
    BEGIN
      ServHeader.GET("Document Type","Document No.");
      CLEAR(SalesPriceCalcMgt);
      SalesPriceCalcMgt.GetServLinePrice(ServHeader,Rec);
    END;

    PROCEDURE ShowLineDisc@16();
    BEGIN
      ServHeader.GET("Document Type","Document No.");
      CLEAR(SalesPriceCalcMgt);
      SalesPriceCalcMgt.GetServLineLineDisc(ServHeader,Rec);
    END;

    BEGIN
    END.
  }
}
